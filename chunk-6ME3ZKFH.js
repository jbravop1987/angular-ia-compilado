import{Aa as x,Cb as A,Db as I,Eb as T,Fa as S,Ia as E,Jb as D,Ka as f,La as y,Na as U,Nb as F,Oa as L,Pa as t,Qa as i,Ra as r,Sa as k,Ta as p,Ua as u,W as _,Ya as n,Za as b,_a as m,ab as M,ca as g,cb as h,da as v,db as z,eb as P,ra as w,ua as o,va as C}from"./chunk-FH4WAJ46.js";var R=(s,d)=>d.id;function j(s,d){s&1&&(t(0,"div",18)(1,"div",19),r(2,"i",20),t(3,"p",21),n(4,"Cargando usuarios..."),i()()())}function $(s,d){if(s&1){let e=k();t(0,"tr",28)(1,"td",37)(2,"div",38),r(3,"img",39),t(4,"div")(5,"div",40),n(6),i(),t(7,"div",41),n(8),i()()()(),t(9,"td",37)(10,"div",42),r(11,"i",43),n(12),i()(),t(13,"td",37)(14,"span"),n(15),h(16,"uppercase"),i()(),t(17,"td",37)(18,"span"),r(19,"i",44),n(20),i()(),t(21,"td",45),r(22,"i",46),n(23),h(24,"date"),i(),t(25,"td",47)(26,"div",48)(27,"button",49),p("click",function(){let l=g(e).$implicit,c=u(2);return v(c.onEditUser(l))}),r(28,"i",50),i(),t(29,"button",51),p("click",function(){let l=g(e).$implicit,c=u(2);return v(c.onDeleteUser(l))}),r(30,"i",52),i()()()()}if(s&2){let e=d.$implicit,a=u(2);o(3),E("src",e.avatar||"https://ui-avatars.com/api/?name="+e.name,w)("alt",e.name),o(3),b(e.name),o(2),m("ID: ",e.id,""),o(4),m(" ",e.email," "),o(2),f("px-2 py-1 text-xs font-semibold rounded-full "+a.getRoleBadgeClass(e.role)),o(),m(" ",z(16,14,e.role)," "),o(3),f("px-2 py-1 text-xs font-semibold rounded-full "+a.getStatusClass(e.status)),o(),f(e.status==="active"?"fas fa-circle-check":"fas fa-circle-xmark"),o(),m(" ",e.status==="active"?"Activo":"Inactivo"," "),o(3),m(" ",P(24,16,e.createdAt,"dd/MM/yyyy")," ")}}function B(s,d){s&1&&(t(0,"tr")(1,"td",53)(2,"div",54),r(3,"i",55),t(4,"p",56),n(5,"No se encontraron usuarios"),i()()()())}function V(s,d){if(s&1&&(t(0,"div",22)(1,"table",23)(2,"thead",24)(3,"tr")(4,"th",25),n(5," Usuario "),i(),t(6,"th",25),n(7," Email "),i(),t(8,"th",25),n(9," Rol "),i(),t(10,"th",25),n(11," Estado "),i(),t(12,"th",25),n(13," Fecha de Registro "),i(),t(14,"th",26),n(15," Acciones "),i()()(),t(16,"tbody",27),U(17,$,31,19,"tr",28,R,!1,B,6,0,"tr"),i()()(),t(20,"div",29)(21,"div",30),n(22," Mostrando "),t(23,"span",31),n(24),i(),n(25," usuarios "),i(),t(26,"div",13)(27,"button",32),r(28,"i",33),i(),t(29,"button",34),n(30,"1"),i(),t(31,"button",35),n(32,"2"),i(),t(33,"button",35),n(34,"3"),i(),t(35,"button",35),r(36,"i",36),i()()()),s&2){let e=u();o(17),L(e.getFilteredUsers()),o(7),b(e.getFilteredUsers().length)}}var W=(()=>{class s{constructor(e){this.http=e,this.users=x([]),this.isLoading=x(!0),this.searchTerm=x(""),this.API_URL=F.apiUrl}ngOnInit(){this.loadUsers()}loadUsers(){this.isLoading.set(!0),this.http.get(`${this.API_URL}/users`).subscribe({next:e=>{this.users.set(e),this.isLoading.set(!1)},error:()=>{console.warn("API no disponible, usando datos mock"),this.users.set(this.getMockUsers()),this.isLoading.set(!1)}})}onSearch(e){let a=e.target;this.searchTerm.set(a.value.toLowerCase())}getFilteredUsers(){let e=this.searchTerm();return e?this.users().filter(a=>a.name.toLowerCase().includes(e)||a.email.toLowerCase().includes(e)||a.role.toLowerCase().includes(e)):this.users()}onNewUser(){console.log("Crear nuevo usuario")}onEditUser(e){console.log("Editar usuario:",e)}onDeleteUser(e){confirm(`\xBFEst\xE1s seguro de eliminar a ${e.name}?`)&&(this.users.update(a=>a.filter(l=>l.id!==e.id)),console.log("Usuario eliminado:",e))}getStatusClass(e){return e==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}getRoleBadgeClass(e){return{admin:"bg-purple-100 text-purple-800",user:"bg-blue-100 text-blue-800",manager:"bg-indigo-100 text-indigo-800",guest:"bg-slate-100 text-slate-800"}[e.toLowerCase()]||"bg-slate-100 text-slate-800"}getMockUsers(){return[{id:1,name:"Juan P\xE9rez",email:"juan.perez@empresa.com",role:"admin",status:"active",createdAt:new Date("2024-01-15"),avatar:"https://ui-avatars.com/api/?name=Juan+Perez&background=4f46e5&color=fff"},{id:2,name:"Mar\xEDa Garc\xEDa",email:"maria.garcia@empresa.com",role:"manager",status:"active",createdAt:new Date("2024-02-20"),avatar:"https://ui-avatars.com/api/?name=Maria+Garcia&background=059669&color=fff"},{id:3,name:"Carlos Ruiz",email:"carlos.ruiz@empresa.com",role:"user",status:"active",createdAt:new Date("2024-03-10"),avatar:"https://ui-avatars.com/api/?name=Carlos+Ruiz&background=dc2626&color=fff"},{id:4,name:"Ana L\xF3pez",email:"ana.lopez@empresa.com",role:"user",status:"inactive",createdAt:new Date("2024-01-25"),avatar:"https://ui-avatars.com/api/?name=Ana+Lopez&background=f59e0b&color=fff"},{id:5,name:"Pedro S\xE1nchez",email:"pedro.sanchez@empresa.com",role:"manager",status:"active",createdAt:new Date("2024-04-05"),avatar:"https://ui-avatars.com/api/?name=Pedro+Sanchez&background=8b5cf6&color=fff"},{id:6,name:"Laura Mart\xEDnez",email:"laura.martinez@empresa.com",role:"user",status:"active",createdAt:new Date("2024-05-12"),avatar:"https://ui-avatars.com/api/?name=Laura+Martinez&background=ec4899&color=fff"}]}static{this.\u0275fac=function(a){return new(a||s)(C(D))}}static{this.\u0275cmp=_({type:s,selectors:[["app-user-list"]],standalone:!0,features:[M],decls:28,vars:1,consts:[[1,"p-6","space-y-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4"],[1,"text-2xl","font-bold","text-slate-800","flex","items-center"],[1,"fas","fa-users","text-indigo-600","mr-3"],[1,"text-sm","text-slate-600","mt-1"],[1,"inline-flex","items-center","gap-2","px-4","py-2","bg-indigo-600","hover:bg-indigo-700","text-white","font-medium","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-plus"],[1,"bg-white","rounded-lg","shadow-sm","border","border-slate-200","p-4"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-4"],[1,"flex-1","relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"fas","fa-search","text-slate-400"],["type","text","placeholder","Buscar por nombre, email o rol...",1,"w-full","pl-10","pr-4","py-2","border","border-slate-300","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","outline-none",3,"input"],[1,"flex","gap-2"],[1,"px-4","py-2","border","border-slate-300","text-slate-700","rounded-lg","hover:bg-slate-50","transition-colors"],[1,"fas","fa-filter","mr-2"],[1,"fas","fa-download","mr-2"],[1,"bg-white","rounded-lg","shadow-sm","border","border-slate-200","overflow-hidden"],[1,"flex","items-center","justify-center","py-16"],[1,"text-center"],[1,"fas","fa-spinner","fa-spin","text-4xl","text-indigo-600","mb-3"],[1,"text-slate-600"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-slate-50","border-b","border-slate-200"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-slate-700","uppercase","tracking-wider"],[1,"px-6","py-3","text-right","text-xs","font-medium","text-slate-700","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-slate-200"],[1,"hover:bg-slate-50","transition-colors"],[1,"bg-slate-50","px-6","py-4","border-t","border-slate-200","flex","items-center","justify-between"],[1,"text-sm","text-slate-600"],[1,"font-medium"],[1,"px-3","py-1","border","border-slate-300","text-slate-700","rounded","hover:bg-white","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed"],[1,"fas","fa-chevron-left"],[1,"px-3","py-1","bg-indigo-600","text-white","rounded"],[1,"px-3","py-1","border","border-slate-300","text-slate-700","rounded","hover:bg-white","transition-colors"],[1,"fas","fa-chevron-right"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"w-10","h-10","rounded-full","mr-3",3,"src","alt"],[1,"text-sm","font-medium","text-slate-900"],[1,"text-xs","text-slate-500"],[1,"flex","items-center","text-sm","text-slate-600"],[1,"far","fa-envelope","text-slate-400","mr-2"],[1,"mr-1"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-slate-600"],[1,"far","fa-calendar","text-slate-400","mr-2"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","items-center","justify-end","gap-2"],["title","Editar",1,"p-2","text-indigo-600","hover:bg-indigo-50","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-pen-to-square"],["title","Eliminar",1,"p-2","text-red-600","hover:bg-red-50","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-trash-can"],["colspan","6",1,"px-6","py-12","text-center"],[1,"text-slate-400"],[1,"fas","fa-users-slash","text-4xl","mb-3"],[1,"text-sm"]],template:function(a,l){a&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r(4,"i",3),n(5," Gesti\xF3n de Usuarios "),i(),t(6,"p",4),n(7," Administra los usuarios del sistema "),i()(),t(8,"button",5),p("click",function(){return l.onNewUser()}),r(9,"i",6),t(10,"span"),n(11,"Nuevo Usuario"),i()()(),t(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10),r(16,"i",11),i(),t(17,"input",12),p("input",function(O){return l.onSearch(O)}),i()(),t(18,"div",13)(19,"button",14),r(20,"i",15),n(21," Filtros "),i(),t(22,"button",14),r(23,"i",16),n(24," Exportar "),i()()()(),t(25,"div",17),S(26,j,5,0,"div",18)(27,V,37,2),i()()),a&2&&(o(26),y(l.isLoading()?26:27))},dependencies:[T,A,I],styles:["[_nghost-%COMP%]{display:block}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s ease}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:active{transform:scale(.95)}img[_ngcontent-%COMP%]{transition:opacity .3s ease}img[_ngcontent-%COMP%]:not([src]){opacity:0}"]})}}return s})();export{W as UserListComponent};
